<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>clojure.algo.monads - algo.monads 0.1.7-SNAPSHOT API documentation</title>
    <link rel="icon" href="static/favicon.png" />
    <link rel="shortcut icon" href="static/favicon.png" />
    <link rel="stylesheet" href="static/clojure.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/wiki.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/internal.css" type="text/css" media="all" />
    <style>.menuWrapper{height: 36px;}</style>
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a href="index.html" id="Logo"><img src="static/clojure-icon.gif" width="100" height="100" alt="Clojure" /></a>
	<h1><a href="index.html" id="page-header" title="page header title">algo.monads API Reference</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">algo.monads</span> <span id="version">0.1.7-SNAPSHOT</span> API</span><br />
    <ul>
      <li><a href="index.html" class="wiki_link">Overview</a></li>
      <li><a href="api-index.html" class="wiki_link">API Index</a></li>
    </ul>
    
    
    <a class="wiki_link" href="https://clojure.org">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div class="wiki wikiPage" id="content_view">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#toc0">Overview</a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#proto-section">Protocols</a>
    <div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/writer-monad-protocol" class="toc-entry-anchor">writer-monad-protocol</a>
      <div class="toc-subentry" style="margin-left: 1em;">
        <a href="#clojure.algo.monads/writer-m-add" class="toc-subentry-anchor">writer-m-add</a>
      </div><div class="toc-subentry" style="margin-left: 1em;">
        <a href="#clojure.algo.monads/writer-m-combine" class="toc-subentry-anchor">writer-m-combine</a>
      </div>
    </div>
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#var-section">Vars and Functions</a>
    <div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/ask" class="toc-entry-anchor">ask</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/asks" class="toc-entry-anchor">asks</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/call-cc" class="toc-entry-anchor">call-cc</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/cond-statement" class="toc-entry-anchor">cond-statement</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/cont-m" class="toc-entry-anchor">cont-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/defmonad" class="toc-entry-anchor">defmonad</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/defmonadfn" class="toc-entry-anchor">defmonadfn</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/domonad" class="toc-entry-anchor">domonad</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/fetch-state" class="toc-entry-anchor">fetch-state</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/fetch-val" class="toc-entry-anchor">fetch-val</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/identity-m" class="toc-entry-anchor">identity-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/local" class="toc-entry-anchor">local</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-chain" class="toc-entry-anchor">m-chain</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-fmap" class="toc-entry-anchor">m-fmap</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-join" class="toc-entry-anchor">m-join</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-lift" class="toc-entry-anchor">m-lift</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-map" class="toc-entry-anchor">m-map</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-reduce" class="toc-entry-anchor">m-reduce</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-seq" class="toc-entry-anchor">m-seq</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-until" class="toc-entry-anchor">m-until</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-when" class="toc-entry-anchor">m-when</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/m-when-not" class="toc-entry-anchor">m-when-not</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/maybe-m" class="toc-entry-anchor">maybe-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/maybe-t" class="toc-entry-anchor">maybe-t</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/monad" class="toc-entry-anchor">monad</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/monad-transformer" class="toc-entry-anchor">monad-transformer</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/reader-m" class="toc-entry-anchor">reader-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/run-cont" class="toc-entry-anchor">run-cont</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/sequence-m" class="toc-entry-anchor">sequence-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/sequence-t" class="toc-entry-anchor">sequence-t</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/set-m" class="toc-entry-anchor">set-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/set-state" class="toc-entry-anchor">set-state</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/set-val" class="toc-entry-anchor">set-val</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/state-m" class="toc-entry-anchor">state-m</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/state-m-until" class="toc-entry-anchor">state-m-until</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/state-t" class="toc-entry-anchor">state-t</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/update-state" class="toc-entry-anchor">update-state</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/update-val" class="toc-entry-anchor">update-val</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/with-monad" class="toc-entry-anchor">with-monad</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/with-state-field" class="toc-entry-anchor">with-state-field</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.algo.monads/writer-m" class="toc-entry-anchor">writer-m</a>
      
    </div>
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="clojure.algo.monads">clojure.algo.monads</span>
  - <span id="header-project">algo.monads</span> <span id="header-version">0.1.7-SNAPSHOT</span><span id="header-status-block"> (<span id="header-status">in development</span>)</span>
  </h1>
<span id="author-line">by <span id="author-name">Konrad Hinsen</span><br /></span>
<br />Full namespace name: <span id="long-name">clojure.algo.monads</span>
<p></p>
<h2>Overview</h2>
<div id="home-page">Project home page is <a href="https://github.com/clojure/algo.monads/">https://github.com/clojure/algo.monads/</a></div>
<pre id="namespace-docstr">This library contains the most commonly used monads as well
as macros for defining and using monads and useful monadic
functions.</pre>


<span id="see-also">See also:
  <span id="see-also-link">
    <a href="https://github.com/khinsen/monads-in-clojure/blob/master/PART1.md">Monad tutorial part 1</a>
  </span><span id="see-also-link">
    <a href="https://github.com/khinsen/monads-in-clojure/blob/master/PART2.md">Monad tutorial part 2</a>
  </span><span id="see-also-link">
    <a href="https://github.com/khinsen/monads-in-clojure/blob/master/PART3.md">Monad tutorial part 3</a>
  </span><span id="see-also-link">
    <a href="https://github.com/khinsen/monads-in-clojure/blob/master/PART4.md">Monad tutorial part 4</a>
  </span><span id="see-also-link">
    <a href="http://www.clojure.net/tags.html#monads-ref">Blog posts on monads in Clojure</a>
  </span><br />
</span><br />

<div id="proto-section">
  <p></p>
  <h2>Protocols</h2>
  <div id="proto-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/writer-monad-protocol">writer-monad-protocol</h2>
    <span id="proto-type">Protocol</span><br />
    <pre id="proto-docstr">Accumulation of values into containers</pre>
    Known implementations: <span id="proto-impls">clojure.lang.APersistentSet, clojure.lang.IPersistentList, clojure.lang.IPersistentVector, java.lang.String</span>
    <div id="proto-var-entry">
      <br />
      <h3 id="clojure.algo.monads/writer-m-add">writer-m-add</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (writer-m-add container value)
</pre>
      <pre id="var-docstr">add value to container, return new container</pre>
      <pre id="var-specs"></pre>
      
      
      
    </div><div id="proto-var-entry">
      <br />
      <h3 id="clojure.algo.monads/writer-m-combine">writer-m-combine</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (writer-m-combine container1 container2)
</pre>
      <pre id="var-docstr">combine two containers, return new container</pre>
      <pre id="var-specs"></pre>
      
      
      
    </div>
    
    
    <a id="proto-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L472">Source</a>
  </div>
</div>

<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/ask">ask</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (ask)
</pre>
    <pre id="var-docstr">Returns the environment.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L533">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/asks">asks</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (asks f)
</pre>
    <pre id="var-docstr">Returns a function of the current environment.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L538">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/call-cc">call-cc</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (call-cc f)
</pre>
    <pre id="var-docstr">A computation in the cont monad that calls function f with a single
argument representing the current continuation. The function f should
return a continuation (which becomes the return value of call-cc),
or call the passed-in current continuation to terminate.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L567">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/cond-statement">cond-statement</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (cond-statement expr mexpr continuation)
</pre>
    <pre id="var-docstr">Process a :cond steps when adding a new monadic step to the mexpr.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L108">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/cont-m">cont-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing computations in continuation-passing style. The monadic
values are functions that are called with a single argument representing
the continuation of the computation, to which they pass their result.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L551">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/defmonad">defmonad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (defmonad name doc-string operations)
       (defmonad name operations)
</pre>
    <pre id="var-docstr">Define a named monad by defining the monad operations. The definitions
are written like bindings to the monad operations m-bind and
m-result (required) and m-zero and m-plus (optional).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L47">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/defmonadfn">defmonadfn</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (defmonadfn name docstring? attr-map? args expr)
       (defmonadfn name docstring? attr-map? (args expr) ...)
</pre>
    <pre id="var-docstr">Like defn, but for functions that use monad operations and are used inside
a with-monad block.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L196">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/domonad">domonad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (domonad steps expr)
       (domonad name steps expr)
</pre>
    <pre id="var-docstr">Monad comprehension. Takes the name of a monad, a vector of steps
given as binding-form/monadic-expression pairs, and a result value
specified by expr. The monadic-expression terms can use the binding
variables of the previous steps.
If the monad contains a definition of m-zero, the step list can also
contain conditions of the form :when p, where the predicate p can
contain the binding variables from all previous steps.
A clause of the form :let [binding-form expr ...], where the bindings
are given as a vector as for the use in let, establishes additional
bindings that can be used in the following steps.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L173">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/fetch-state">fetch-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (fetch-state)
</pre>
    <pre id="var-docstr">Return a state-monad function that returns the current state and does not
modify it.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L420">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/fetch-val">fetch-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (fetch-val key)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
returns the value corresponding to the given key. The state is not modified.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L426">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/identity-m">identity-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing plain computations. This monad does in fact nothing
at all. It is useful for testing, for combination with monad
transformers, and for code that is parameterized with a monad.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L347">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/local">local</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (local f g)
</pre>
    <pre id="var-docstr">Runs reader g in the context of an environment modified by f</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L544">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-chain">m-chain</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Chains together monadic computation steps that are each functions
of one parameter. Each step is called with the result of the previous
step as its argument. (m-chain (step1 step2)) is equivalent to
(fn [x] (domonad [r1 (step1 x) r2 (step2 r1)] r2)).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L278">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-fmap">m-fmap</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Bind the monadic value m to the function returning (f x) for argument x</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L256">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-join">m-join</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Converts a monadic value containing a monadic value into a 'simple'
monadic value.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L250">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-lift">m-lift</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-lift n f)
</pre>
    <pre id="var-docstr">Converts a function f of n arguments into a function of n
monadic arguments returning a monadic value.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L241">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-map">m-map</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">'Executes' the sequence of monadic values resulting from mapping
f onto the values xs. f must return a monadic value.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L272">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-reduce">m-reduce</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Return the reduction of (m-lift 2 f) over the list of monadic values mvs
with initial value (m-result val).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L289">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-seq">m-seq</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">'Executes' the monadic values in ms and returns a sequence of the
basic values contained in them.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L261">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-until">m-until</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">While (p x) is false, replace x by the value returned by the
monadic computation (f x). Return (m-result x) for the first
x for which (p x) is true.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L302">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-when">m-when</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-when test m-expr)
</pre>
    <pre id="var-docstr">If test is logical true, return monadic value m-expr, else return
(m-result nil).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L314">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/m-when-not">m-when-not</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (m-when-not test m-expr)
</pre>
    <pre id="var-docstr">If test if logical false, return monadic value m-expr, else return
(m-result nil).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L320">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/maybe-m">maybe-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing computations with possible failures. Failure is
represented by nil, any other value is considered valid. As soon as
a step returns nil, the whole computation will yield nil as well.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L357">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/maybe-t">maybe-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (maybe-t m)
       (maybe-t m nothing)
       (maybe-t m nothing which-m-plus)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad in which
the base values can be invalid (represented by nothing, which defaults
to nil). The third argument chooses if m-zero and m-plus are inherited
from the base monad (use :m-plus-from-base) or adopt maybe-like
behaviour (use :m-plus-from-transformer). The default is :m-plus-from-base
if the base monad m has a definition for m-plus, and
:m-plus-from-transformer otherwise.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L608">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/monad">monad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (monad operations)
</pre>
    <pre id="var-docstr">Define a monad by defining the monad operations. The definitions
are written like bindings to the monad operations m-bind and
m-result (required) and m-zero and m-plus (optional).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L32">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/monad-transformer">monad-transformer</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (monad-transformer base which-m-plus operations)
</pre>
    <pre id="var-docstr">Define a monad transformer in terms of the monad operations and the base
monad. The argument which-m-plus chooses if m-zero and m-plus are taken
from the base monad or from the transformer.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L585">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/reader-m">reader-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing computations which read values from a shared environment.
Also known as the environment monad.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L523">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/run-cont">run-cont</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (run-cont c)
</pre>
    <pre id="var-docstr">Execute the computation c in the cont monad and return its result.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L562">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/sequence-m">sequence-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing multi-valued computations, i.e. computations
that can yield multiple values. Any object implementing the seq
protocol can be used as a monadic value.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L370">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/sequence-t">sequence-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (sequence-t m)
       (sequence-t m which-m-plus)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad in which
the base values are sequences. The argument which-m-plus chooses
if m-zero and m-plus are inherited from the base monad
(use :m-plus-from-base) or adopt sequence-like
behaviour (use :m-plus-from-transformer). The default is :m-plus-from-base
if the base monad m has a definition for m-plus, and
:m-plus-from-transformer otherwise.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L640">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-m">set-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing multi-valued computations, like sequence-m,
but returning sets of results instead of sequences of results.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L384">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-state">set-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (set-state s)
</pre>
    <pre id="var-docstr">Return a state-monad function that replaces the current state by s and
returns the previous state.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L414">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/set-val">set-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (set-val key val)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
replaces the value associated with key by val. The old value is returned.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L442">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-m">state-m</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Monad describing stateful computations. The monadic values have the
structure (fn [old-state] [result new-state]).</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L397">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-m-until">state-m-until</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (state-m-until p f x)
</pre>
    <pre id="var-docstr">An optimized implementation of m-until for the state monad that
replaces recursion by a loop.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L460">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/state-t">state-t</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (state-t m)
</pre>
    <pre id="var-docstr">Monad transformer that transforms a monad m into a monad of stateful
computations that have the base monad type as their result.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L667">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/update-state">update-state</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (update-state f)
</pre>
    <pre id="var-docstr">Return a state-monad function that replaces the current state by the
result of f applied to the current state and that returns the old state.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L408">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/update-val">update-val</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (update-val key f)
</pre>
    <pre id="var-docstr">Return a state-monad function that assumes the state to be a map and
replaces the value associated with the given key by the return value
of f applied to the old value. The old value is returned.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L432">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/with-monad">with-monad</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (with-monad monad &amp; exprs)
</pre>
    <pre id="var-docstr">Evaluates an expression after replacing the keywords defining the
monad operations by the functions associated with these keywords
in the monad definition given by name.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L161">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/with-state-field">with-state-field</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (with-state-field key statement)
</pre>
    <pre id="var-docstr">Returns a state-monad function that expects a map as its state and
runs statement (another state-monad function) on the state defined by
the map entry corresponding to key. The map entry is updated with the
new state returned by statement.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L448">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.algo.monads/writer-m">writer-m</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (writer-m empty-accumulator)
</pre>
    <pre id="var-docstr">Monad describing computations that accumulate data on the side, e.g. for
logging. The monadic values have the structure [value log]. Any of the
accumulators from clojure.contrib.accumulators can be used for storing the
log data. Its empty value is passed as a parameter.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/algo.monads/blob/afabb41018d339ae2f97cf9ee116b39ee5fafac0/src/main/clojure/clojure/algo/monads.clj#L497">Source</a>
  </div>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div id="copyright" style="text-align: center;">Copyright 2007-2023 by Rich Hickey and the various contributors</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a href="http://www.tomhickey.com" title="Visit Tom Hickey's website.">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>